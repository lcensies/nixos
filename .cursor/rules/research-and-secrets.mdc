---
description: Research official docs before new functionality; never leak secrets
alwaysApply: true
---

# Research-first, no-secrets policy

- **When adding new functionality**:
  - Look up **official documentation** first (NixOS/Nixpkgs manuals, Home Manager docs, upstream project docs, relevant RFCs/READMEs).
  - Avoid boilerplate patterns if the ecosystem already has a standard solution (prefer idiomatic Nix modules/options).
  - Cite sources in the PR/commit description or in-code comments when it prevents future confusion (short + specific).

- **Never leak sensitive data during lookups** (web searches, issue comments, pasted logs):
  - Do not include tokens, passwords, private keys, cookies, SSH config, serial numbers, IPs/hostnames that identify private infra, or full file contents of secret-bearing files.
  - If you need help debugging, **redact** secrets and minimize pasted configuration to the smallest reproducer.
  - Prefer searching with generic terms (error messages with unique IDs removed) over sharing full logs/configs.

